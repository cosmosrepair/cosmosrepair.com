---
title: BES内部深度 - Bancor算法及IBO的未来
date: 2018-09-26
author: Jade & Mr. Zhang
tags: ["区块链"]
---

>  作者：本文是 BES (Blockchain Economics Studio) 的内部研究报告，由 Mr.Zhang 和 Jade 合作完成。

Bancor 协议自出现以来，大致发展出三类应用方向，即解决长尾 Token 流动性问题，稀缺资源分配问题，及 Token 融资问题。对应项目分别是 Bancor，EOS RAM 以及 FIBOS。不过，从以上三个项目的应用来看，虽然都具有很大的创新意义，但同时暴露出一些 Bancor 还未解决的问题。

本文将从 Bancor 算法出发，结合以上三个项目，探讨 Bancor 机制的应用与发展。

## Bancor 被提出的背景

Bancor 算法之所以命名为「Bancor」，是为了纪念 1943 年在布雷顿森林会议上提出「超主权货币 Bancor」的经济学家凯恩斯。二战结束后，世界各国代表于 1943 年在美国布雷顿森林探讨一套新的国际货币机制，凯恩斯提出了「国际清算同盟计划」，美国经济学家怀特提出了另一套计划，即后来的布雷顿森林体系的原型。

在凯恩斯「国际清算同盟计划」中，提出了建立全球中央银行，并发行超主权货币「Bancor」，根据二战前三年各国进出口贸易额的 75% 在各国政府间分配「Bancor」份额。而怀特提出的布雷顿森林体系最核心的几点，即：
1. 美元与黄金挂钩；
2. 其他国家货币与美元挂钩；
3. 实行固定可调整汇率制度；
4. 美元等同黄金，成为各国储备货币等。

无论是凯恩斯计划，还是怀特计划，所解决的问题都是在各国主权分别发行货币与全球经济流通面临的不平衡问题。凯恩斯计划是在美国经济体占全球经济体很高程度下创建超主权「Bancor」，但是只要美国美元不参与，该计划必然无法阻挡具有强势购买力的美元经济强势入侵。后来，布雷顿森林体系锚定黄金价值，1971 年崩溃后世界完全进入美元信用时代，至此美元基本发挥了全球统一货币的作用。

数字货币，本质上是货币问题解决方案的延伸，在全球金融危机后又一次引发了商品货币，商业货币等古老问题的回潮。Bancor 协议，其创立方向在于解决这种商品货币或商业货币流通长尾问题，即在不考虑商品货币或商业货币价值多少条件下，利用技术手段为其赋予一定的流通可能性。所以虽然与历史上的 Bancor 并不是一个东西，但不失致敬的意义。

## Bancor 算法的应用

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-5-.png)

或

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-6-.png)

那么，Bancor 算法是什么？Bancor 算法，本质上是通过杠杆手段，利用数学模型来解决自变量与因变量之间滑点关系的模型。在这套模型中，存在准备金池 r（或连接器池 connector balance）、杠杆率（或 CW connector weight 或连接器比重）以及智能代币供给量 s（supply 或中转代币）三个重要参数。**根据 p×s×CW=r 公式，可以确定智能代币的价格 p(price)。**另外，储备金增量与智能代币增量存在一个对应的数学关系。通过这两套公式，可以画出类似的下面四个模型。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-6-.jpeg)
*图一*

关于以上四个模型的分析与论述，这里不再赘述，有很多文章（见参考附录）已经分析，下面将结合三个应用项目具体展开。

## Bancor 协议

Bancor Network 项目白皮书中所描述的「代币兑换者」模式：**即通过 Bancor 算法，在储备金池中填充一篮子其他类 Token，采用自己发行 Bancor（BNT）作为连接代币，可以实现类似于交易的货币兑换效果。**虽然 Bancor 白皮书中提到了「智能代币转换」，即 FIBOS 所采取的所谓「IBO（Initial Bancor Offering）」，但是 Bancor 在融资过程中仍然采用了 ICO 模式，而且陆续上了所有主流交易所。

Bancor 协议类似于去中心化交易所，但却和一般的去中心化交易所存在着本质的区别。接下来，我们先把这种解决长尾 Token 流动性问题，简称为**类交易模式**。

在 ICO 之后，Bancor（BNT）首先获得了法币价格，通过「代币兑换者」可以为储备池中不同 Token 充当转换器。但是，Bancor（BNT）价格背后的价值来源于什么呢？根据项目白皮书介绍，**Bancor 项目可以通过这种类交易模式收取交易费，即通过提供交易通道收取手续费为 Bancor（BNT）贴息，便是这种类交易模式的本质。因此，Bancor（BNT）本质上是一种附息债券。**

那么，这种债券背后所依靠的交易模式是否成立呢？答案确实难以非黑即白，但我们倾向于否定。在存在外部交易所情况下（OTC、去中心化交易所、中心化交易所），这种滑点交易模式天生具有缺陷：即该交易的价位仅存在点的情况，而价格点下无法承载交易量。既然交易时智能代币卖方在该模式中面临「无谓损失」，**从理性人假说来看，交易方必然会寻求外部市场来避免「无谓损失」，从而刺激外部交易市场成立。**关于「无谓损失」等问题的具体分析，请见下文。

不过，对于流通性差的代币，**通过该模式可以获得流动通道**。途径有二：其一是流通性较差代币作为储备池 Token 存在，通过智能代币（例如 BNT）回购储备池中的流通性较差代币，但是会面对「无谓损失」问题；其二是流通性较差代币作为智能代币存在，比如 FIBOS 作为智能代币相对 EOS 作为储备金模式，但是如果 FIBOS 的智能代币在发展过程中被市场淘汰，面临没有价值预期，原有的流动性依然会枯竭到 FIBOS 刚出现时的价位（1:1000）。

既然有用，为什么我们还否定了这个用途呢？**因为从形式上成立并不意味着内容上成立。**代币流动性差是市场「优胜劣汰」的结果，对于被市场「淘汰」的代币并没有什么价值，而提供流通可能性的工具并不能改变这种事实。因此解决 Token 流通长尾问题其实基本是「伪需求」，在交易所林立的情况下这种模式基本失效，其更不会对这种「附息债券」（BNT）产生很大的价值。换句话说，**没有交易需求的代币，有了 Bancor 还是不会有需求。**而有能力吸引流动性的优质项目代币，也不会为了 Bancor 牺牲其他流通性通道，比如中心化交易所。那最后市场定价一定会取代 Bancor 定价，正如 BNT 自己身上发生的故事。

## FIBOS 项目

FIBOS 发行 FO，以 EOS 作为储备，并增加了增发、销毁以及锁仓解锁三种假设情况，这三点下面将分别展开。据 FIBOS 官方表述，在其推出公众兑换交易通道时，首先确定了 CW 参数为 11%，并填充 55 万 EOS 作为准备金，获得 50 亿 FO（FO 总量在程序上设定上限为 100 亿个）。

根据 Bancor 算法公式，对应滑点曲线的起点价为 EOS:FO=1:1000。同时，其官方表述「不主动上交易所，55 万 EOS 作为准备金锁仓」，但是，官方表述中并未对其已经兑换获得 50 亿 FO 做出锁仓或用途解释。

**如果说 Bancor 项目所采用的是算法交易模式，那么 FIBOS 所采用的则是一种杠杆融资模式。**虽然官方表述锁仓 55 万 EOS，但是这种准备金本来就是项目方的（FIBOS 官方称 55 万 EOS 是自己出的），锁仓与不锁仓没有区别，相反已经兑换的 50 亿 FO 才是问题所在。对于投资者来说，当认为估值过低时可以投 EOS 进储备池购买 FO，在达到合理估值水平前投资者获得收益，和传统交易市场类似。

然而，**这种类模式在面对传统交易市场下其实是有缺陷的。**当交易者需要购买或出售一定数量的 FO 时，**面对有深度的传统交易市场和 FIBOS 算法交易系统，前者在多数情况下会被优先选择，因为上文提到的「无谓损失」，或交易成本。**当外部卖盘深度与买盘深度达到一定水平，外部市场将逐渐掌握定价权并成为主要流通市场，**而 Bancor 模式下交易机制仅作为套利市场存在。**

而 FIBOS 官方提到 FO 数量增发、销毁以及官方 55 万 EOS 锁仓解锁情况意味着什么？。首先,官方表述锁仓 55 万 EOS，**但是并未对已经兑换产生的 50 亿 FO 做出表述**，那这里就会出现一种可能：50 亿 FO 被抛售，而内部市场因为 55 万 EOS 锁仓无法兑换而导致内部价格永远停留在 1:1000，外部市场价格暴跌。如果我们把项目类型归结为「私募+IBO」以及「自融+IBO」两类模式，FIBOS 项目采用的便是「自融+IBO」模式。但无论是哪种模式，锁仓解锁情况针对不应该是保证金，而是项目方获得发行 Token，不然无法避免项目方主动作恶。

再来看关于增发与销毁情况。根据 Bancor 算法，其本质是在改变 CW 参数。以 FIBOS 项目为例，在未达到程序最大数量 100 亿 FO 之前，Bancor 系统下 FO 的发行量是随着市场在变化，这一点同传统市场不同。传统市场下权益 Token 数量一般保持不变，市场预期主要反映在价格的变化上，估值因价格变化而变化。当传统证券市场需要增发或销毁时（一般是固定的），主要责任是保证 Token 持有者总权益的不变。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-5-.png)

结合 FIBOS 项目关于增发与销毁的表述，其认为在保证价格 p 不变条件下，可以直接增加 s 的量达到增发目的。**结合 Bancor 算法公式（p*s*CW=r），项目方错误的认为这种情况虽然降低了 CW，但是只要保证 r 不变那么对所有人都是公平，其实这忽略了保证金和市值之间的杠杆关系。**对所有人来说，虽然 FO 价格看似没有变化，但是没有通过市场力量而是项目方主动增加 s 的数量，新增的 s 的价值支撑来源于哪里呢？本质上对原持有 Token 人的财富掠夺。而关于销毁机制，根据项目方描述，是在保证价格 p 不变条件下，通过销毁自身的 FO 来达到销毁目的，这种情况下必然需要增大 CW，但是在保证 r 不变条件下，其他人并没有因此获得财富的增加，仅仅项目方自身的财富减少而已，整个项目市值反而减少。相对传统证券市场销毁是真金白银销毁固定数量下证券数量的一部分，从而起到价格上涨的效果，但是在 Token 变化市场中，这种销毁是苍白无力的。

**FIBOS 项目利用 Bancor 算法作为杠杆融资手段**，但是有很多情况其并没有想清楚，当投资者对 FO 价格不敏感或 FO 流动性较弱时，问题还不会暴露出来，但是并不代表问题不存在。针对 Bancor 作为融资起始手段的应用方向，我们将在下文讨论。

## EOS RAM

**RAM 本质上是一种稀缺资源，之所以适合 Bancor，是因为发行方不仅可以不让它在其他交易所发行，而且可以控制市场流通的机制，增加对价格的控制。**RAM 具体指的是 EOSIO 系统上的一种资源（常见的四种资源包括宽带资源、CPU 资源、RAM 资源以及存储资源）最初设计共 64G（后扩容），也就是这种资源有限。

RAM 的设计机制并不同与 Bancor 项目以及 FIBOS 项目，其通过中间智能代币 RAMCODE 链接 EOS 与 RAM，经过换算后公式如下图。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-7-.png)
*图二*

在图二公式中，C2 指 RAM 余量，C1 指储备池中 EOS 数量，T1 指储备池中 EOS 增量，T2 指对应 T1 增量下可获得的 RAM 数量。从图二公式可以看出，随着可买 RAM 余量（C2）的降低或者 EOS 数量（C1）的增多，RAM 的价格会加速增长（即同样付出 T1 的 EOS 下，可换取到的 RAM 数量 T2 变少了）。

这里，我们简称为**资源分配模式**。在这种模式中，EOS RAM 机制是不允许外部市场存在的，故不同于 FIBOS 项目和 Bancor 项目，那么其中的投资者在合理价位之前买入必然获得「增值收益」以及「额外收益」，在卖出时必然遭受「无谓损失」。

Bancor 算法用来解决稀缺资源分配问题，可行吗？其实相对于传统交易「价高者得」来说，这种把价格让算法来决定的模式，没有本质的区别。即使在放开外部市场条件下，外部市场存在低价情况仍然不能改变这种投机需求。因而，后来 EOS RAM 不得不通过扩容来解决大量的投机需求。扩容的本质便是把这种资源的稀缺性改变，而之所以要改变，因为 EOS RAM 在 EOSIO 系统上不能成为稀缺性资源。

EOSIO 系统的目的是丰富自身的生态，**RAM 作为基础设施，如果基础设施成为稀缺资源，价格规律便会发挥作用使得其非常昂贵**，那么这个生态便无法承载更多的参与者。所以有没有 Bancor 算法并没有什么区别，Bancor 算法在这里并没有解决 EOS RAM 资源稀缺性问题，**而是 EOS RAM 本身就不应该成为稀缺性资源。**

## 聚焦「IBO」

结合上文，虽然 Bancor 算法的三类方向都出现了一些问题，但是 FIBOS 模式所提出的「IBO」相对于另外两类方向还是带来了一些亮点，也是我们相对最看好的应用方向。比如在「IBO」模式下，原来上交易所需要花费巨额上币费的情况这里得到很大程度的缓解等。

那么，作为 IBO 工具的 Bancor 存在哪些悬而未决的问题呢？下面将以 FIBOS 为例，分别讨论 IBO 模式下估值失效问题、价格承载力问题以及 CW 改变问题等。

### 估值失效问题

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-8-.png)
*图三*

结合图三，**FIBOS 推出之始给自身估值 500 万 EOS，那么这个估值是市场给的，还是投资机构给的？其实都不是，是项目方自身给的。**而当该项目启动后只要有购买者推动 S0 向右移动，在市场炒作并存在外部市场条件下，项目方可以一举把获得 50 亿 FO 抛售给市场（即使这 50 亿是分批解锁的）。当然，在不存在市场炒作以及外部交易市场下项目方是无法拿到 500 万 EOS 的，但是这点不影响 500 万 EOS 估值的不合理性。另外，**其中 55 万 EOS 便是图三阴影处面积，在存在市场炒作和外部交易市场条件下，即使抛售不完 50 亿 FO，如果锁住 55 万 EOS 不准兑换，FIBOS 系统内部价格将会稳定在 1:1000，外部市场崩溃。**

第二种估值失效是指，虽然通过 Bancor，流动性差的代币始终存在对手盘，即在算法机制下 P0 可以无限接近于 0，这也是 Bancor 机制的魅力所在。然而，这种情况特指某种 Token 流动性特别差，差到虽然存在市场有很大存量，但是**价格低到无法弥补人们去兑换或交易的成本，这种流动性极差情况已经脱离市场。**即类似于 Bancor 协议中，流通性差 Token 虽然存在流通通道，但是并不存在流动性，从估值上来讲，就是虽然存在市值，但是这种市值其实是失效的。

### 价格承载力问题

价格承载力的问题，**是指在 Bancor 算法模式下，每一个价格滑点对应的 supply 的量是等密度的，通过曲线积分便是买方的付出或卖方的获得。**在正常的交易市场下，虽然价格点可能不如 Bancor 模式连续，**但是在每个价格点下 supply 的量却不是等密度的**。在存在交易深度的前提下，交易方一定会优先选择外部交易市场。然而当外部市场不满足深度条件时，即外部市场买卖盘深度不足或价格不连续过于严重，Bancor 模式下的内部市场是可能优于外部市场的。所以，「价」和「量」之间存在互相牺牲的关系。

在长期均衡条件下，**内部市场和外部市场价格会因为「套利」机制保持相等**，这里说的价格是成交均价，不是中间价。**随着时间推移，外部市场的「量」逐渐加深，吸引投资者进行外部交易，这时 Bancor 系统的市场作为套利市场存在。**当项目方发生巨大变化时，外部市场无法及时反应，比如项目方跑路，内部市场发挥主要作用；另一种情况是项目出现重大利好，外部市场惜售严重，内部市场发挥供给作用。