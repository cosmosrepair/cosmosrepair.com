---
title: 什么是联合曲线模型
date: 2018-12-04
author: Jade & 蔡大
tags: ["区块链", "经济学"]
---

联合曲线模型可以理解为描述“代币买卖价格”与“代币发行总量”之间的函数关系，可以由智能合约以去中心化的方式自动执行。

## 什么是联合曲线？

联合曲线（bonding curve）定义最早出现在 Consensys 成员 Simon de la Rouviere 关于 curation market 的一篇论文中，与在次年提出的 bancor 曲线内涵一致，只是说法更加抽象。

简单来说，联合曲线模型可以理解为描述“代币买卖价格”与“代币发行总量”之间的函数关系，可以由智能合约以去中心化的方式自动执行。bancor protocol 白皮书中在 cw 下定义的“价格-发行量”曲线（后以“曲线”代称），可以进行更一般的推广，而这种推广所描述的函数关系，正是 bonding curve。

联合曲线针对于 bancor 曲线两种推广：

1. 买卖价格相同：即不存在任何的买卖价格的 spread，而这个假设是可以被突破的，也就是对买价和卖价分别假定两条价格曲线。事实上，在 bancor protocol 应用过程中，我们已经看到了类似的情况，比如 TPT 在发行中，在早期对卖出收取 30% 的手续费，本质上就是在买价之外重新定义了一条新的卖价函数。

2. 曲线形态完全由cw或准备金率来进行控制：因此曲线变幻的形态一定是有限的。那么针对不同业务逻辑的场景，完全可以设定不同的价格曲线。比如 sigmoid 函数曲线、类线性函数、分段函数等等。当然，每给出一个新的函数曲线，其对应背后的成交价格计算，也需要有一套完整的价格推演公式。

## 举个栗子

联合曲线特别适合的一类应用是某个垂直细分领域的连续型组织。通过行为激励—代币分发—价格承载，可以以众包且有经济激励的形式完成特定领域的特定目的。一般来说，主要分为四个步骤：
1. 分析细分场景及其中的角色
2. 明确价格向上趋势的来源
3. 根据业务要求推演确定数学形态
4. 设计token的使用场景

### P3D 的例子

P3D 本身是 TeamJUST 发行的平台币，这个团队以开发了 FOMO3D 这个传奇色彩的资金盘游戏而知名。我们拿 P3D 来举例子，按照上述的步骤推演一遍。
> 【参考阅读P3D文章】[已经存在 100 年的骗局，终于还是来到了区块链上！](https://mp.weixin.qq.com/s?__biz=MzA5MzkwOTgxNg==&mid=2448102046&idx=1&sn=82074ef6d692006786db54645bc6e31d&chksm=844914c9b33e9ddf45127dee30e484090a202bc7b619dbd933f4993895084617b0737ec0fb03&token=839484210&lang=zh_CN&scene=21#wechat_redirect)

**步骤一** P3D 的应用场景，可以理解为一个众筹的线上赌场，其中 FOMO3D 是赌场中的1款游戏，而赌场还承诺出更多的游戏。P3D 体现的就是这个赌场的业务分红权，本质上是赌场的股票。

**步骤二** 对于联合曲线，一般情况下，我们总是希望其整体趋势是向上的，那显而易见的一个问题就是，为什么大家会不断来买 token，将价格沿着曲线不断推高。
在 P3D 的设计逻辑中，也非常简单，那就是赌场分红。通过不断开发盈利能力强的赌博游戏，P3D 持有者可以不断享受赌场的分红。

**步骤三** 除了价格向上，赌场还希望尽量减小币价的波动率，不要因为投机式快速的买入卖出对币价曲线造成重大打击。为此，在 bonding curve 上设计了几个规则。

首先，买入卖出都需要缴纳当前价格 10% 的手续费作为，而手续费则会进入分红池，即交易越频繁，持有者收益越高，后续交易动力越小。

其次，价格曲线选择早期较快后期较慢的函数类型，其具体定义为，函数曲线如图。这保证了早期参与者的利益（包括团队），同时也减缓了后续价格的波动。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-8-.jpeg)
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-9-.jpeg)

**步骤四** 从使用场景来说，P3D token 的使用场景非常简单，就是分红以及币的价格承载，不包含任何其他的 utility 类型。

### 慈善组织的例子

所谓亦正亦邪，我们还可以想象一个慈善 NGO 的例子。中心化 NGO 依赖外部捐款—中心化款项分配—资助慈善活动的方式。而利用联合曲线模型和智能合约，则有可能实现自组织式的慈善组织。考虑这样的一个场景：海滩捡垃圾公益组织，我们按照上述的四个步骤梳理一下整个环节：

**步骤一** 系统中存在三种角色：项目发起人 A、活动参与者 B、赞助者 C。A发起公益活动，自己投入 1 ETH 获得 100 个 BRC。C1 发现这个慈善活动不错，投入 1 ETH 获得了 80 个 BRC。A组织了10位志愿者B开始了慈善活动，每位志愿者分的 5 枚 BRC，B 总共获得了 50 BRC。活动成效不错，C2 为这个活动赞助了 3 ETH 获得了 120 枚 BRC。此时 A 可以兑现手中剩余的 BRC 换回最初投入的 1 ETH，B 也可以选择兑换。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-10-.jpeg)

**步骤二** 早期发起者和参与者都获得了自己的回报，并且整个过程是由智能合约自行完成的。整个价格曲线向上来源于不断有外部的慈善赞助者投入。这种驱动力与中心化慈善的业务逻辑相同，不同的时，早期的慈善者可以退出甚至获得早期赞助的奖励。

**步骤三** 曲线形态可以很多变，比如如下两种：
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-11-.jpeg)
左图的曲线从交易成本角度出发，每次买入和卖出都会有一定比例的差价成为运营成本，结果是减小投机与价格波动。右图的二次函数为了避免早期慈善赞助者的投机心理，当到达某个 optimum 之后开始单调递减，在这半段中，先卖币离场的人是不划算的，纯粹从经济的角度出发，有助于慈善赞助者锁仓。

**步骤四** 使用场景上，这个例子中的 BRC 主要使用目的在于价值的奖励与流转，由于慈善本身是一类不需要以盈利和增值为基础的特殊活动，所以对代币本身在体系中的使用场景要求并不会特别高。

## 联合曲线的数学内涵

关于联合曲线的函数形态，其种类和设计唯一受限的只有人类的想象力了。Bancor 协议是第一套从价格函数到交易定价整体数学推演完备的一种设计思路，本部分仅针对曲线的形态展开设想，抛砖引玉。针对第一部分谈到的两类曲线的推广，我们分别讨论。

### 买入和卖出函数不相同的线性函数

以这种机制为例，对于每次卖出收取手续费的 30%。假设买入曲线是简单的线性函数 y = x。则卖出函数 y = (1-30%)*x = 0.7x。两条曲线的简单形态就如下图所示：

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-12-.jpeg)

### 买入卖出函数相同的类线性函数
**凸函数曲线类型（包括指数类型、exponential 类型）**
以指数类型为例子。
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-13-.jpeg)

**凹函数曲线类型（Logarithmic类型，反函数类型，类多项式类型）**
以类多项式函数类型为例子。
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-14-.jpeg)
内涵：其中a与c代表在通证数量每翻c倍时，通证价格增长a%。m和b作为线性函数参数调节截距和斜率。以下面的公式为例，这条特定的函数曲线代表了通证数量每次翻倍时，价格增长25%。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-15-.jpeg)

**分段函数类型（任意组合）**
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-16-.jpeg)

## 联合曲线的应用场景

联合曲线的应用目前还刚刚开始被探索。虽然最开始，策展市场(curation market）是这种曲线模型的最早应用领域，但越来越多的项目开始把它应用到一些更广泛的宏观或微观场景。下面我们对目前所有相关项目做一个梳理。具体归档请参见我们的开源研究文档：[curve bonding applications](https://docs.google.com/spreadsheets/d/1PuQWh1JmOhV27UTBfrF5wS-QPLWul4Rp_LwlG6loN-Y/edit#gid=0)。

### 作为融资手段
**慈善公益项目**
将纯粹的捐款行为转化为一部分自动奖励早期传播者，一部分自动进入组织运营成本（买卖曲线价差）。且可以为项目设计最高融资目标。
相关链接：[https://blog.goodaudience.com/rewriting-the-story-of-human-collaboration-c33a8a4cd5b8](https://blog.goodaudience.com/rewriting-the-story-of-human-collaboration-c33a8a4cd5b8?gi=e3783babde9d)

**众筹**

Fibos, RAM 都是比较典型的众筹融资目的，且都用 bancor 发行，所以也有人叫 IBO（Initial Bancor Offering）。区别于 ICO，IBO 的融资是连续的，且每个代币的价格不同，目的多是为了奖励早期投资者。并且，由于投资者的本币被锁定在一个项目方也不可以挪用的地址中，用来自动做市，不需要昂贵的交易所上币费也可以创造一定程度的流动性，所以比较适合长尾项目进行融资。详细分析请参见 BES 的另一篇研究报告：[BES内部深度 - Bancor算法及IBO的未来。](https://mp.weixin.qq.com/s/Cr33JNFLdY6YJjiw4yhcmg)

**资金盘**
P3D是典型的资金盘例子，在上文举例中已经提及。

### 资产证券化（tokenization)

**IP所有权**

[Token Bonding Curves in Practice](https://tokeneconomy.co/token-bonding-curves-in-practice-3eb904720cb8)。链接中的文章以医疗行业为例，知识产权可以被一个 ERC20 地址拥有，而一个地址对应一个曲线模型，实现社会化投资和参与和退出，最终按照持有比例进行现金分红。不过，这里没有讨论分红带来的证券法律属性问题，可能会涉及到 STO 相关的高成本解决方案。

**[NFT](https://medium.com/@billyrennekamp/re-fungible-token-rft-297003592769)**

与上文的 IP 所有权问题相似，不同的是 ERC20 或 ERC721 地址背后是虚拟资产，比如加密猫，虚拟艺术品等。有趣的是，如果可行，联合曲线完全改变了市场发现价格的方式。例如以前艺术品是及其低频的对手方或拍卖交易，但当市场共同通过联合曲线参与的时候，变成了流动性高，价格发现成本低的参与机制。

### 众包协作及激励机制

**[Curation Market](https://docs.google.com/document/d/1VNkBjjGhcZUV9CyC0ccWYbqeOoVKT2maqX0rK3yXB20/edit)**

又叫策展市场，内容协作市场。由于内容市场是关于注意力的经济，联合曲线的目的是利用虚拟货币量化协作组对某一个话题的关注，并且进一步激励针对这一话题的内容创造协作。例如论坛，豆瓣小组，或微信公众号的某话题发起者发起一个新话题版块并存入 ETH 开始一个新的联合曲线，参与内容贡献的人也可以继续投入曲线铸币，而付费用户或广告商通过同样的投入联合曲线的方式代替传统的付费行为，这样发起者，消费者，广告商从对立位置变为了协同的角色。典型项目 userfeeds 在今年已经宣告失败死亡，而另一明星项目 relevant 还在开发中。

**[TCR（Token Curated Registry）](https://docs.google.com/document/d/1BWWC__-Kmso9b7yCI_R7ysoGFIT9D_sfjH3axQsmB6E/edit)**

是 curation market 的一个特例，场景简化为一个列表（list）排名，例如歌单，电影榜单，ICO 项目列表，通过类似预测市场的机制激励参与者共同监督和维护一个 list 的质量。比如 messari 本来是一个优质的虚拟货币行业新闻网站，现在就是要用这种 TCR 的方式做成一个分布式协作，共同监督的 ICO 项目数据库。不过，TCR 的机制看似简单，实则蕴含一些经济原理上的问题，比如由于奖金激励，投票者有比较大的从众倾向，所以也有人提出更复杂的引入 reputation 等其他机制的建议（[Curate This: Token Curated Registries That Don’t Work.](https://blog.coinfund.io/curate-this-token-curated-registries-that-dont-work-d76370b77150)）。

**数据或数据库**

区块链项目 ocean protocol（[Curated Proofs Markets: A Walk-Through of Ocean’s Core Token Mechanics](https://blog.oceanprotocol.com/curated-proofs-markets-a-walk-through-of-oceans-core-token-mechanics-3d50851a8005?gi=c50cdc088884)）通过将每一个分布式数据变成一个联合曲线的方式，试图解决开源世界里数据上传，下载的商业变现问题。而 [ZAP](https://www.zap.org/)是一个链外数据库（oracle）的交易平台，试图通过将每一个 oracle 变成一个联合曲线解决链外数据的维护，传播，信用评级等问题。

### 开放式组织

**[Continous Organization](https://github.com/C-ORG/whitepaper/)**

项目创始人提出了以联合曲线为基础数学架构的新型组织类别，取名为连续组织。

**[Community Currency](https://www.grassrootseconomics.org/)**

Grassroots 是一个 NGO 组织，在肯尼亚等贫民窟推广社区货币已经有 8 年的时间。今年，他们宣布利用 bancor 解决了不同社区货币之前的兑换问题。

**民主投票**

[Hive](https://medium.com/hive-commons/introducing-hive-commons-95dad77814bb) 利用联合曲线进行民主投票，背后隐藏的含义是公共资产和反资本主义。

## 联合曲线可以与什么进行结合？

综上，联合曲线只是一种市场工具，可以结合在不同的场景中，为了不同的目的去服务。在数学上，它只是一个函数曲线。在技术上，它只是一个智能合约。然而联合曲线与其他的区块链工具结合，也可以产生不同的化学反应：

**+ bounties**

联合曲线本质上是在用 ETH 或其他虚拟货币以曲线价格铸币，比如 BTC, USDT。但如果参与者并不首先拥有 ETH 呢？如果我们想激励的并不是融资行为，而是其他经济行为呢？想象一下联合曲线的基础货币不是 ETH，而是某种行为奖励，或者身份，信用等虚拟资产的变现，那么“铸币”的范畴就比上文讨论的多得多。

**+ radical market**

Radical market（激进市场）是今年首先被 Vitalik 关注研究，并最终发表论文的经济学领域。详细内容可以参见 https://orange.xyz/p/183 碰巧的是，联合曲线的提出人 Simon 也关注了 radical markets 领域，并把两者都应用到了自己作为创始人的区块链音乐项目 Ujo 中。他的观点是，两者有天然的共同之处，就是都是针对公共资产设计新的市场分配和激励方式。目的是代币化新的社区合作，共识和价值创造。

**+ ICO**

在 ICO 或交易所之前，联合曲线是私募的另一种选择，也就是上文提到的 IBO。其实最早利用这种曲线的是 telegram。由于融资时间长，金额巨大，telegram 当时的策略是每一个代币的私募定价比前一个贵十亿分之一，而整个价格曲线是指数曲线。所以在私募期结束之前，早期投资人已经部分实现了变现，甚至可以有几十倍之多。

## 风险及缺陷

目前，相关理论刚刚开始被探讨，并且实践非常少，所以还有很多悬而未决的问题。以下只是我们内部提出的一些话题，仅供大家打开思路，这里不讨论可能的解决方案。
1. Sybil attack 由于挖矿成本相较悬殊，早期掌握 51% 代币供给的可能性很多。
2. Front running 如果知道市场下单的信息或需求，可能通过提前下单的行为推高成本。
3. Outside market 外部存在 OTC 交易市场，也就是黑市。这种情况在美国一些研究者的讨论中被认为是正常的套利行为，场外价格不会高于场内，对价格有影响，但对市场机制没有影响。
4. Fork 如果曲线是向上推高的，后来的人有较大的动力分岔，代价是要重新吸引支持者。

## 其他讨论

联合曲线本质上是什么？在我们看来，它的本质是**在非法币的环境中建立一个去中心化的协作机制，由算法决定的挖矿机制来负责整个协作机制内的再分配。**

而在想法的实践上，我们认为市场还缺少一些重要的基础设施，障碍主要在：
- 稳定货币
- 虚拟货币使用门槛
- 链上虚拟资产
- 组织法律架构

而在理论层面，还需要大量的有关市场经济，公共资产等经济问题的研究。不过，联合曲线为我们打开了一扇思路：市场定价并不是这个宇宙中唯一可用的工具。抛开区块链，在金融危机后的 10 年，新一轮经济衰退的起点，很多人开始思考资本主义和市场经济的局限。在传统的经济框架中，只有 3 种力量主导着分配，市场经济，政府（强制力），和道德，后两者其实越来越被前者影响，甚至主导。我们已经不是生活在一个有市场经济的社会里，而是一个市场社会，所有的东西都可以被市场化，都可以被定价，交易。

所以，我们相信不管联合曲线会被应用到哪里，它都为我们提供了弥足珍贵的启发。如果对这个话题希望有更深刻的讨论，请联系我们 hi@beslab.xyz。

引用及参考参见： [curve bonding applications](https://docs.google.com/spreadsheets/d/1PuQWh1JmOhV27UTBfrF5wS-QPLWul4Rp_LwlG6loN-Y/edit#gid=0)