---
title: 什么是联合曲线模型
date: 2018-12-04
author: Jade & 蔡大
tags: ["区块链", "经济学"]
---

## 什么是联合曲线？

联合曲线（bonding curve）定义最早出现在 Consensys 成员 Simon de la Rouviere 关于 curation market 的一篇论文中，与在次年提出的 bancor 曲线内涵一致，只是说法更加抽象。

简单来说，联合曲线模型可以理解为描述“代币买卖价格”与“代币发行总量”之间的函数关系，可以由智能合约以去中心化的方式自动执行。bancor protocol 白皮书中在 cw 下定义的“价格-发行量”曲线（后以“曲线”代称），可以进行更一般的推广，而这种推广所描述的函数关系，正是 bonding curve。

联合曲线针对于 bancor 曲线两种推广：

1. 买卖价格相同：即不存在任何的买卖价格的 spread，而这个假设是可以被突破的，也就是对买价和卖价分别假定两条价格曲线。事实上，在 bancor protocol 应用过程中，我们已经看到了类似的情况，比如 TPT 在发行中，在早期对卖出收取 30% 的手续费，本质上就是在买价之外重新定义了一条新的卖价函数。

2. 曲线形态完全由cw或准备金率来进行控制：因此曲线变幻的形态一定是有限的。那么针对不同业务逻辑的场景，完全可以设定不同的价格曲线。比如 sigmoid 函数曲线、类线性函数、分段函数等等。当然，每给出一个新的函数曲线，其对应背后的成交价格计算，也需要有一套完整的价格推演公式。

## 举个栗子

联合曲线特别适合的一类应用是某个垂直细分领域的连续型组织。通过行为激励—代币分发—价格承载，可以以众包且有经济激励的形式完成特定领域的特定目的。一般来说，主要分为四个步骤：
1. 分析细分场景及其中的角色
2. 明确价格向上趋势的来源
3. 根据业务要求推演确定数学形态
4. 设计token的使用场景

### P3D 的例子

P3D 本身是 TeamJUST 发行的平台币，这个团队以开发了 FOMO3D 这个传奇色彩的资金盘游戏而知名。我们拿 P3D 来举例子，按照上述的步骤推演一遍。
> 【参考阅读P3D文章】[已经存在 100 年的骗局，终于还是来到了区块链上！](https://mp.weixin.qq.com/s?__biz=MzA5MzkwOTgxNg==&mid=2448102046&idx=1&sn=82074ef6d692006786db54645bc6e31d&chksm=844914c9b33e9ddf45127dee30e484090a202bc7b619dbd933f4993895084617b0737ec0fb03&token=839484210&lang=zh_CN&scene=21#wechat_redirect)

**步骤一** P3D 的应用场景，可以理解为一个众筹的线上赌场，其中 FOMO3D 是赌场中的1款游戏，而赌场还承诺出更多的游戏。P3D 体现的就是这个赌场的业务分红权，本质上是赌场的股票。

**步骤二** 对于联合曲线，一般情况下，我们总是希望其整体趋势是向上的，那显而易见的一个问题就是，为什么大家会不断来买 token，将价格沿着曲线不断推高。
在 P3D 的设计逻辑中，也非常简单，那就是赌场分红。通过不断开发盈利能力强的赌博游戏，P3D 持有者可以不断享受赌场的分红。

**步骤三** 除了价格向上，赌场还希望尽量减小币价的波动率，不要因为投机式快速的买入卖出对币价曲线造成重大打击。为此，在 bonding curve 上设计了几个规则。

首先，买入卖出都需要缴纳当前价格 10% 的手续费作为，而手续费则会进入分红池，即交易越频繁，持有者收益越高，后续交易动力越小。

其次，价格曲线选择早期较快后期较慢的函数类型，其具体定义为，函数曲线如图。这保证了早期参与者的利益（包括团队），同时也减缓了后续价格的波动。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-8-.jpeg)
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-9-.jpeg)

**步骤四** 从使用场景来说，P3D token 的使用场景非常简单，就是分红以及币的价格承载，不包含任何其他的 utility 类型。

### 慈善组织的例子

所谓亦正亦邪，我们还可以想象一个慈善 NGO 的例子。中心化 NGO 依赖外部捐款—中心化款项分配—资助慈善活动的方式。而利用联合曲线模型和智能合约，则有可能实现自组织式的慈善组织。考虑这样的一个场景：海滩捡垃圾公益组织，我们按照上述的四个步骤梳理一下整个环节：

**步骤一** 系统中存在三种角色：项目发起人 A、活动参与者 B、赞助者 C。A发起公益活动，自己投入 1 ETH 获得 100 个 BRC。C1 发现这个慈善活动不错，投入 1 ETH 获得了 80 个 BRC。A组织了10位志愿者B开始了慈善活动，每位志愿者分的 5 枚 BRC，B 总共获得了 50 BRC。活动成效不错，C2 为这个活动赞助了 3 ETH 获得了 120 枚 BRC。此时 A 可以兑现手中剩余的 BRC 换回最初投入的 1 ETH，B 也可以选择兑换。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-10-.jpeg)

**步骤二** 早期发起者和参与者都获得了自己的回报，并且整个过程是由智能合约自行完成的。整个价格曲线向上来源于不断有外部的慈善赞助者投入。这种驱动力与中心化慈善的业务逻辑相同，不同的时，早期的慈善者可以退出甚至获得早期赞助的奖励。

**步骤三** 曲线形态可以很多变，比如如下两种：
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-11-.jpeg)
左图的曲线从交易成本角度出发，每次买入和卖出都会有一定比例的差价成为运营成本，结果是减小投机与价格波动。右图的二次函数为了避免早期慈善赞助者的投机心理，当到达某个 optimum 之后开始单调递减，在这半段中，先卖币离场的人是不划算的，纯粹从经济的角度出发，有助于慈善赞助者锁仓。

**步骤四** 使用场景上，这个例子中的 BRC 主要使用目的在于价值的奖励与流转，由于慈善本身是一类不需要以盈利和增值为基础的特殊活动，所以对代币本身在体系中的使用场景要求并不会特别高。

## 联合曲线的数学内涵

关于联合曲线的函数形态，其种类和设计唯一受限的只有人类的想象力了。Bancor 协议是第一套从价格函数到交易定价整体数学推演完备的一种设计思路，本部分仅针对曲线的形态展开设想，抛砖引玉。针对第一部分谈到的两类曲线的推广，我们分别讨论。

### 买入和卖出函数不相同的线性函数

以这种机制为例，对于每次卖出收取手续费的 30%。假设买入曲线是简单的线性函数 y = x。则卖出函数 y = (1-30%)*x = 0.7x。两条曲线的简单形态就如下图所示：

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-12-.jpeg)

### 买入卖出函数相同的类线性函数
**凸函数曲线类型（包括指数类型、exponential 类型）**
以指数类型为例子。
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-13-.jpeg)

**凹函数曲线类型（Logarithmic类型，反函数类型，类多项式类型）**
以类多项式函数类型为例子。
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-14-.jpeg)
内涵：其中a与c代表在通证数量每翻c倍时，通证价格增长a%。m和b作为线性函数参数调节截距和斜率。以下面的公式为例，这条特定的函数曲线代表了通证数量每次翻倍时，价格增长25%。

![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-15-.jpeg)

**分段函数类型（任意组合）**
![](https://cosmosrepair-1257028016.cos.ap-beijing.myqcloud.com/2019-07-02-640%20-16-.jpeg)

